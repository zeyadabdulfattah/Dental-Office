<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      (function () {
        // If hosted on *.github.io/<repo>/, set base to "/<repo>/"; otherwise use "/"
        var parts = location.pathname.split("/").filter(Boolean);
        var baseHref =
          location.hostname.endsWith("github.io") && parts.length > 0
            ? "/" + parts[0] + "/"
            : "/";
        var baseEl = document.createElement("base");
        baseEl.href = baseHref;
        document.head.prepend(baseEl);
      })();
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smile Gallery | Aethera Dental</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* CSS TOKENS & VARIABLES */
      :root {
        --white: #ffffff;
        --ice: #eaf4f9;
        --light-blue: #a9d6e5;
        --sky-blue-cta: #468faf;
        --deep-navy: #1b2a41;
        --cool-gray: #6b7c8c;
        --gold-accent: #c9b08f;

        --font-heading: "Playfair Display", serif;
        --font-body: "Inter", sans-serif;

        --transition-fast: 200ms;
        --transition-med: 400ms;
        --transition-slow: 600ms;
      }

      /* BASE & RESET STYLES */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        margin: 0;
        font-family: var(--font-body);
        color: var(--cool-gray);
        background-color: var(--white);
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        opacity: 0;
        transition: opacity var(--transition-med) ease-in-out;
      }
      body.fade-in {
        opacity: 1;
      }
      body.no-scroll {
        overflow: hidden;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: var(--font-heading);
        color: var(--deep-navy);
        line-height: 1.2;
        margin: 0 0 1rem 0;
      }
      h1 {
        font-size: 3.5rem;
      }
      h2 {
        font-size: 2.75rem;
      }
      h3 {
        font-size: 1.75rem;
      }
      p {
        margin: 0 0 1.5rem 0;
      }
      a {
        color: var(--sky-blue-cta);
        text-decoration: none;
        transition: color var(--transition-fast);
      }
      a:hover {
        color: var(--deep-navy);
      }
      img {
        max-width: 100%;
        height: auto;
        display: block;
      }
      ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .container {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
      }

      /* ANIMATIONS & REVEAL */
      @keyframes text-mask-reveal {
        from {
          clip-path: inset(0 100% 0 0);
        }
        to {
          clip-path: inset(0 0 0 0);
        }
      }
      .text-reveal > span {
        display: inline-block;
        animation: text-mask-reveal 1s cubic-bezier(0.19, 1, 0.22, 1) forwards;
      }
      .reveal-on-scroll {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity var(--transition-slow) ease-out,
          transform var(--transition-slow) ease-out;
      }
      .reveal-on-scroll.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* GENERAL COMPONENTS */
      .btn {
        display: inline-block;
        padding: 0.75rem 2rem;
        font-family: var(--font-body);
        font-weight: 500;
        text-align: center;
        border: none;
        cursor: pointer;
        transition: all var(--transition-fast) ease-in-out;
        border-radius: 4px;
      }

      /* Default CTA for general buttons */
      .btn-cta {
        background-color: var(--sky-blue-cta);
        color: var(--white);
        border: 1px solid var(--gold-accent);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1),
          inset 0 1px 2px rgba(255, 255, 255, 0.2);
        position: relative;
      }
      .btn-cta:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(70, 143, 175, 0.4),
          inset 0 1px 2px rgba(255, 255, 255, 0.1);
      }

      /* HEADER BUTTON */
      .btn-header-outline {
        background-color: transparent;
        color: var(--sky-blue-cta);
        border: 2px solid var(--sky-blue-cta);
        padding: 0.6rem 2rem;
        font-family: "Cormorant Garamond", serif;

        font-size: 1.1rem;
        letter-spacing: 0.05em;
        border-radius: 4px;
        transition: all 0.3s ease;
        box-shadow: none;
      }
      .btn-header-outline:hover {
        background-color: var(--sky-blue-cta);
        color: var(--white);
        border-color: var(--sky-blue-cta);
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      }
      .btn-header-outline:focus-visible {
        outline: 2px solid var(--light-blue);
        outline-offset: 2px;
      }

      .btn-header-outline-inverted {
        background-color: transparent;
        color: var(--white);
        border: 2px solid var(--white);
        padding: 0.4rem 1.2rem;
        font-family: "Cormorant Garamond", serif;

        font-size: 0.85rem;
        letter-spacing: 0.05em;
        border-radius: 4px;
        transition: all 0.3s ease;
        box-shadow: none;
        display: inline-block;
      }
      .btn-header-outline-inverted:hover {
        background-color: var(--white);
        color: var(--deep-navy);
      }

      /* HEADER */
      .main-header {
        position: sticky;
        top: 0;
        z-index: 100;
        background-color: var(--white);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      .header-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.5rem 0;
        width: 100%;
        min-height: 76px;
      }
      .header-nav,
      .header-cta-container {
        display: none;
      }
      .nav__toggle {
        display: block;
        position: relative;
        z-index: 102; /* Ensure toggle is above overlay */
      }

      @media (min-width: 992px) {
        .header-nav,
        .header-cta-container {
          display: block;
        }
        .header-nav {
          margin: 0 auto;
        }
        .nav__toggle {
          display: none;
        }
      }

      .header-logo-img {
        height: 150px;
        width: auto;
      }
      .mobile-logo-img {
        height: 60px;
        width: auto;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 2.5rem;
      }
      .nav-link {
        font-weight: 500;
        color: var(--deep-navy);
        position: relative;
        padding: 1rem 0;
      }
      .nav-link::after {
        content: "";
        position: absolute;
        bottom: 0.75rem;
        left: 0;
        width: 0;
        height: 2px;
        background-color: var(--sky-blue-cta);
        transition: width var(--transition-med) ease;
      }
      .nav-link:hover::after,
      .nav-link.active::after {
        width: 100%;
      }

      .nav-link {
        font-family: "Cormorant Garamond", serif;

        font-size: 1.1rem;
        letter-spacing: 0.03em;
      }

      /* FOOTER */
      .main-footer {
        background-color: var(--deep-navy);
        color: var(--light-blue);
        padding: 4rem 0 2rem;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 3rem;
      }
      .footer-heading {
        font-family: var(--font-body);
        font-weight: 700;
        color: var(--white);
        margin-bottom: 1rem;
      }
      .footer-list a {
        color: var(--light-blue);
      }
      .footer-list a:hover {
        color: var(--white);
        text-decoration: underline;
      }
      .footer-address a {
        color: var(--light-blue);
      }
      .footer-address a:hover {
        color: var(--white);
      }
      .social-icons {
        display: flex;
        gap: 1rem;
      }
      .social-icon svg {
        width: 24px;
        height: 24px;
        color: var(--light-blue);
        transition: color var(--transition-fast);
      }
      .social-icon:hover svg {
        color: var(--white);
      }
      .footer-bottom {
        border-top: 1px solid var(--cool-gray);
        margin-top: 3rem;
        padding-top: 2rem;
        text-align: center;
        font-size: 0.8rem;
        color: var(--cool-gray);
      }

      /* PAGE-SPECIFIC SECTIONS */
      .section {
        padding: 6rem 0;
      }
      .section-ice {
        background-color: var(--ice);
      }
      .page-hero {
        padding: 6rem 0;
        text-align: center;
        background-color: var(--ice);
      }
      .page-hero h1 {
        font-size: 3rem;
      }
      .gallery-item {
        margin-bottom: 6rem;
      }
      .gallery-caption {
        margin-top: 1.5rem;
        text-align: center;
      }
      .gallery-caption h2 {
        font-size: 2rem;
      }
      .before-after-slider {
        position: relative;
        width: 100%;
        overflow: hidden;
        border-radius: 8px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        line-height: 0;
      }
      .ba-image-container {
        position: relative;
      }
      .ba-image-after {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        clip-path: polygon(50% 0, 100% 0, 100% 100%, 50% 100%);
      }
      .ba-slider-handle {
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 4px;
        height: 100%;
        background-color: var(--white);
        cursor: ew-resize;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
      }
      .ba-slider-button {
        width: 40px;
        height: 40px;
        border: 2px solid var(--white);
        background-color: var(--sky-blue-cta);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--white);
      }
      .final-cta {
        text-align: center;
      }
      .final-cta h2 {
        margin-bottom: 2rem;
      }

      /* --- NEW CSS FOR OFF-CANVAS MENU --- */
      :root {
        --brand-400: #468faf;
      } /* Nova blue */
      /* Hamburger Toggle Button */
      .nav__toggle {
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 10px;
        z-index: 10000; /* Ensure it's above everything */
      }
      .nav__toggle span {
        display: block;
        width: 30px;
        height: 3px;
        background-color: var(--deep-navy);
        border-radius: 4px;
        transition: transform 0.22s cubic-bezier(0.55, 0.055, 0.675, 0.19),
          opacity 0.22s ease-out, background-color 0.22s ease-in-out;
      }
      .nav__toggle span:not(:last-child) {
        margin-bottom: 7px;
      }
      /* Change icon color to white when menu is open */
      .nav__toggle.is-open span {
        background-color: var(--white);
      }
      /* Animate to 'X' */
      .nav__toggle.is-open span:nth-child(1) {
        transform: translateY(10px) rotate(135deg);
      }
      .nav__toggle.is-open span:nth-child(2) {
        opacity: 0;
      }
      .nav__toggle.is-open span:nth-child(3) {
        transform: translateY(-10px) rotate(-135deg);
      }

      /* Drawer Shell */
      #nd-mobile-nav {
        min-height: 100svh; /* safe viewport height on mobile */
        display: flex;
        flex-direction: column;
      }
      .mobile-nav {
        position: fixed;
        inset: 0;
        background: rgba(9, 27, 41, 0.95);
        backdrop-filter: blur(10px);
        opacity: 0;
        visibility: hidden;
        transform: translateX(20px);
        transition: opacity 0.4s, visibility 0.4s, transform 0.4s;
        z-index: 9999;
      }
      .mobile-nav.is-open {
        opacity: 1;
        visibility: visible;
        transform: translateX(0);
      }

      /* Header row inside drawer */
      .mobile-nav__header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px 20px;
        position: relative;
        z-index: 2;
      }
      #nd-mobile-nav .mobile-nav__logo {
        height: 48px; /* was ~40px; adjust if needed */
        max-height: 56px; /* guardrail for small screens */
      }
      .mobile-nav__close {
        background: none;
        border: 0;
        color: #fff;
        font-size: 28px;
        line-height: 1;
        cursor: pointer;
      }

      /* Divider sits BELOW the header row */
      .mobile-nav__divider {
        border: 0;
        border-top: 1px solid rgba(255, 255, 255, 0.18);
        margin: 0;
      }

      /* Links list */
      #nd-mobile-nav .mobile-nav__list {
        flex: 1 1 auto;
        overflow: auto;
      }
      .mobile-nav__list {
        list-style: none;
        padding: 16px 20px;
      }
      /* Link/Button styles */
      .mobile-nav__link {
        display: block;
        color: #fff;
        padding: 12px 10px;
        border-radius: 8px;
        /* Reset button styles to match links */
        background: none;
        border: none;
        width: 100%;
        text-align: left;
        font-size: 1rem;
        cursor: pointer;
        font-family: var(--font-body);
      }
      .mobile-nav__link:focus {
        outline: 2px solid rgba(255, 255, 255, 0.35);
        outline-offset: 2px;
      }

      /* Services submenu */
      .mobile-submenu {
        max-height: 0;
        overflow: hidden;
        margin: 6px 0 0 0;
        padding-left: 12px;
        border-left: 2px solid rgba(255, 255, 255, 0.25);
        transition: max-height 0.35s ease;
      }
      .mobile-submenu a {
        display: block;
        padding: 10px 0;
        line-height: 1.45;
        white-space: normal;
      }

      /* Footer inside drawer */
      #nd-mobile-nav .mobile-nav__footer {
        margin-top: auto;
        padding: 12px 20px max(24px, env(safe-area-inset-bottom, 24px));
        border-top: 1px solid rgba(255, 255, 255, 0.12);
      }
      #nd-mobile-nav .mobile-nav__footer .btn-header-outline-inverted {
        margin-bottom: 14px; /* space before contact info */
      }
      #nd-mobile-nav .mobile-nav__contact .contact-line {
        display: block;
        margin: 6px 0;
        color: var(--brand-400);
        text-decoration: none;
      }
      #nd-mobile-nav .mobile-nav__contact .contact-line:hover {
        text-decoration: underline;
      }
      #nd-mobile-nav .mobile-nav__contact .hours {
        color: rgba(255, 255, 255, 0.85);
      }

      /* Theme tint */
      .btn-header-outline-inverted,
      .has-submenu .chev {
        border-color: #fff;
        color: #fff;
      }

      /* Ensure all drawer text inherits header font */
      #nd-mobile-nav,
      #nd-mobile-nav .mobile-nav__link,
      #nd-mobile-nav .mobile-submenu a,
      #nd-mobile-nav .mobile-nav__footer {
        font-family: var(--header-font-family, inherit);
      }
    </style>
    <style>
      /* ===== Veneers — Before/After slider, local-only ===== */

      /* (A) Frame sizing + centering (apply to the EXISTING slider root) */
      .before-after-slider[data-ba-slider] {
        max-width: 780px; /* adjust if desired */
        width: min(92vw, 780px);
        aspect-ratio: 4 / 3; /* keeps a nice shape */
        margin: 0 auto 3rem;
        overflow: hidden; /* prevents any edge gaps */
        border-radius: 14px;
        box-shadow: 0 12px 28px rgba(15, 40, 70, 0.1);
        -webkit-user-select: none; /* Prevent image selection on drag */
        user-select: none; /* Prevent image selection on drag */
      }

      /* (B) Make BOTH images cover the frame (target existing img nodes inside the slider) */
      .before-after-slider[data-ba-slider] img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover; /* kills the right-side white strip */
        object-position: center;
      }

      /* If the slider uses an “after” overlay container, ensure it clips properly */
      .before-after-slider[data-ba-slider] .ba-image-after,
      .before-after-slider[data-ba-slider] .after,
      .before-after-slider[data-ba-slider] [data-after] {
        position: absolute; /* keep existing if already absolute */
        inset: 0;
        /* clip-path is set from JS; we just ensure it can clip the whole image area */
      }

      /* If your slider puts the two images absolutely, keep them pinned */
      .before-after-slider[data-ba-slider] .ba-image-container,
      .before-after-slider[data-ba-slider] .before-after-inner {
        position: relative; /* do not remove existing positioning */
      }

      /* Mobile polish */
      @media (max-width: 600px) {
        .before-after-slider[data-ba-slider] {
          max-width: 520px;
          width: min(94vw, 520px);
          aspect-ratio: 4 / 3;
          margin: 0 auto 2rem;
        }
      }
      /* === Dental Implants closer (scoped, no global overrides) === */
      .di-closer {
        position: relative;
        isolation: isolate;
        min-height: clamp(460px, 54vh, 640px);
        display: grid;
        place-items: center;
        padding: clamp(48px, 8vw, 96px) 24px;
        overflow: hidden;
        background: #eaf4f9;
      }
      .di-closer__bg {
        position: absolute;
        inset: 0;
      }
      .di-closer__bg img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        filter: blur(2px) saturate(105%);
        transform: translateZ(0);
      }
      .di-closer__overlay {
        position: absolute;
        inset: 0;
        background: #eaf4f9;
        opacity: 0.9;
      }

      .di-closer__content {
        position: relative;
        z-index: 1;
        max-width: 900px;
        margin-inline: auto;
        text-align: center;
      }
      .di-closer__title {
        font-family: "Playfair Display", serif;
        font-weight: 700;
        color: #1b2a41;
        letter-spacing: 0.2px;
        line-height: 1.1;
        font-size: clamp(32px, 5vw, 56px);
        margin: 0 0 12px;
      }
      .di-closer__sub {
        color: #395368;
        font-size: clamp(16px, 1.8vw, 18px);
        margin: 0 0 28px;
      }
      .di-closer__actions {
        display: flex;
        justify-content: center;
      }
      .di-closer .btn-header-outline {
        margin: 0 auto;
      }
      .di-closer__notes {
        margin-top: 40px;
        color: #6b7c8c;
        font-size: 14px;
        letter-spacing: 0.2px;
      }

      @media (prefers-reduced-motion: no-preference) {
        .di-closer.reveal .di-closer__content {
          opacity: 0;
          transform: translateY(16px) scale(0.985);
          transform-origin: 50% 55%;
          transition: opacity 0.42s ease,
            transform 0.52s cubic-bezier(0.2, 0.7, 0.2, 1);
        }
        .di-closer.reveal.is-inview .di-closer__content {
          opacity: 1;
          transform: none;
        }
      }

      @media (max-width: 640px) {
        .di-closer {
          padding: 56px 20px;
        }
      }
      /* ——— Services hero with background image ——— */
      .page-hero.has-bg {
        position: relative;
        text-align: center; /* keep existing alignment */
        padding: 6rem 0; /* preserve current rhythm */
        background: none; /* image/overlay handled by ::before */
        overflow: clip; /* ensure no visual bleed */
      }

      .page-hero.has-bg::before {
        content: "";
        position: absolute;
        inset: 0;
        /* Layer 1: soft white→ice veil, Layer 2: hero image */
        background: linear-gradient(
            to bottom,
            rgba(255, 255, 255, 0.6),
            rgba(234, 244, 249, 0.92)
          ),
          url("images-") center / cover no-repeat;

        will-change: transform;
      }

      .page-hero.has-bg .container {
        position: relative; /* sit above the overlay */
        z-index: 1;
      }

      .page-hero.has-bg h1 {
        color: var(--deep-navy);
        margin-bottom: 0.75rem;
      }

      .page-hero.has-bg p {
        color: var(--cool-gray);
        max-width: 56ch;
        margin: 0 auto;
      }

      /* Nice responsiveness for small screens */
      @media (max-width: 640px) {
        .page-hero.has-bg {
          padding: 4.5rem 0;
        }
        .page-hero.has-bg h1 {
          font-size: 2.2rem;
        }
      }

      /* Optional: gentle parallax hint on scroll */
      @media (prefers-reduced-motion: no-preference) {
        .page-hero.has-bg::before {
          transition: transform 600ms ease-out;
        }
        .page-hero.has-bg.is-visible::before {
          transform: translateY(-2%);
        }
      }
    </style>
  </head>
  <body class="fade-in">
    <div data-include="partials/header.html"></div>
    <nav id="nd-mobile-nav" class="mobile-nav" role="dialog" aria-modal="true">
      <div class="mobile-nav__header">
        <a class="mobile-nav__brand" href="index.html">
          <img
            src="image-logo/logo.png"
            alt="Nova Dental"
            class="mobile-nav__logo"
          />
        </a>
        <button class="mobile-nav__close" aria-label="Close menu">×</button>
      </div>

      <hr class="mobile-nav__divider" />

      <ul class="mobile-nav__list" role="list">
        <li><a class="mobile-nav__link" href="index.html">Home</a></li>
        <li><a class="mobile-nav__link" href="about.html">About</a></li>
        <li>
          <a class="mobile-nav__link" href="services/index.html">Services</a>
        </li>
        <li><a class="mobile-nav__link" href="gallery.html">Gallery</a></li>
        <li>
          <a class="mobile-nav__link" href="testimonials.html">Testimonials</a>
        </li>
        <li><a class="mobile-nav__link" href="contact.html">Contact</a></li>
      </ul>

      <div class="mobile-nav__footer">
        <a class="btn btn-header-outline-inverted" href="contact.html"
          >Book An Appointment</a
        >

        <address
          class="mobile-nav__contact"
          itemscope
          itemtype="https://schema.org/Dentist"
        >
          <meta itemprop="name" content="Nova Dental" />
          <a class="contact-line" href="tel:+201234567890" itemprop="telephone"
            >+20 123 456 7890</a
          >
          <a
            class="contact-line"
            href="mailto:appointments@novadental.com"
            itemprop="email"
            >appointments@novadental.com</a
          >
          <a
            class="contact-line"
            href="https://maps.google.com/?q=Nova%20Dental"
            target="_blank"
            rel="noopener"
            itemprop="address"
            >123 Smile Street, Cairo</a
          >
          <span class="contact-line hours" itemprop="openingHours"
            >Sat–Thu 10:00–20:00 • Fri Closed</span
          >
        </address>
      </div>
    </nav>
    <main>
      <section class="page-hero has-bg">
        <div class="container">
          <h1 class="text-reveal">
            <span>Real Patients, Real Transformations</span>
          </h1>
          <p>
            Explore our gallery of smile makeovers and see the life-changing
            results we deliver.
          </p>
        </div>
      </section>

      <section class="section">
        <div class="container" style="max-width: 960px">
          <div class="gallery-item reveal-on-scroll">
            <div class="before-after-slider" data-ba-slider>
              <div class="ba-image-container">
                <img
                  src="images-gallery/veneers-before.png"
                  alt="Patient's smile with chipped and uneven teeth"
                />
                <div class="ba-image-after">
                  <img
                    src="images-gallery/veneers-after.png"
                    alt="Patient's smile transformed with porcelain veneers"
                  />
                </div>
              </div>
              <div class="ba-slider-handle">
                <div class="ba-slider-button">&leftrightarrow;</div>
              </div>
            </div>
            <div class="gallery-caption">
              <h2>Porcelain Veneers</h2>
              <p>
                This patient wanted a brighter, more uniform smile. A set of
                custom porcelain veneers corrected chips, discoloration, and
                minor alignment issues for a stunning result. See more about
                <a href="services/veneers.html">Veneers</a>.
              </p>
            </div>
          </div>

          <div class="gallery-item reveal-on-scroll">
            <div class="before-after-slider" data-ba-slider>
              <div class="ba-image-container">
                <img
                  src="images-gallery/ortho-before.png"
                  alt="Patient's smile with crooked teeth before orthodontics"
                />
                <div class="ba-image-after">
                  <img
                    src="images-gallery/ortho-after.png"
                    alt="Patient's perfectly straight smile after orthodontic treatment"
                  />
                </div>
              </div>
              <div class="ba-slider-handle">
                <div class="ba-slider-button">&leftrightarrow;</div>
              </div>
            </div>
            <div class="gallery-caption">
              <h2>Adult Orthodontics</h2>
              <p>
                Using a combination of clear aligners, we were able to correct
                years of crowding and bite issues in just 18 months,
                dramatically improving both aesthetics and function. Discover
                our
                <a href="services/orthodontics.html">Orthodontics</a> services.
              </p>
            </div>
          </div>

          <div class="gallery-item reveal-on-scroll">
            <div class="before-after-slider" data-ba-slider>
              <div class="ba-image-container">
                <img
                  src="images-gallery/implant-before.png"
                  alt="Patient's smile with a missing tooth before implant"
                />
                <div class="ba-image-after">
                  <img
                    src="images-gallery/implant-after.png"
                    alt="Patient's smile with a completed dental implant"
                  />
                </div>
              </div>
              <div class="ba-slider-handle">
                <div class="ba-slider-button">&leftrightarrow;</div>
              </div>
            </div>
            <div class="gallery-caption">
              <h2>Single Tooth Implant</h2>
              <p>
                A failed front tooth was replaced with a dental implant and a
                custom-matched crown. The result is indistinguishable from the
                natural teeth. Learn about
                <a href="services/dental-implants.html">Dental Implants</a>.
              </p>
            </div>
          </div>

          <div class="gallery-item reveal-on-scroll">
            <div class="before-after-slider" data-ba-slider>
              <div class="ba-image-container">
                <img
                  src="images-gallery/hygeiene-before.png"
                  alt="Teeth with yellowing and staining before whitening"
                />
                <div class="ba-image-after">
                  <img
                    src="images-gallery/hygein-after.png"
                    alt="Brilliantly white teeth after professional whitening"
                  />
                </div>
              </div>
              <div class="ba-slider-handle">
                <div class="ba-slider-button">&leftrightarrow;</div>
              </div>
            </div>
            <div class="gallery-caption">
              <h2>Professional Whitening</h2>
              <p>
                Our in-office whitening treatment removed years of staining,
                brightening this patient's smile by several shades in a single
                visit. Explore
                <a href="services/hygiene-whitening.html">Teeth Whitening</a>.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="implants-closer" class="di-closer reveal">
        <div class="di-closer__bg" aria-hidden="true">
          <img src="images/services/closer-bg.jpg" alt="" loading="lazy" />
          <div class="di-closer__overlay"></div>
        </div>

        <div class="di-closer__content">
          <h2 class="di-closer__title">Care Designed Around You</h2>
          <p class="di-closer__sub">
            A calm, unhurried consultation with modern diagnostics—on your
            schedule.
          </p>

          <div class="di-closer__actions">
            <a
              href="contact.html"
              class="btn-header-outline"
              aria-label="Book An Appointment"
            >
              Book An Appointment
            </a>
          </div>

          <p class="di-closer__notes">
            Same-week scheduling • No obligation • Easy rescheduling
          </p>
        </div>
      </section>
    </main>

    <div data-include="partials/footer.html"></div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- 1. CLIENT-SIDE INCLUDES LOADER ---
        const loadPartials = async () => {
          const elements = document.querySelectorAll("[data-include]");
          for (const el of elements) {
            const url = el.getAttribute("data-include");
            if (url) {
              try {
                const response = await fetch(url, { cache: "reload" });
                if (!response.ok)
                  throw new Error(
                    `Failed to fetch ${url}: ${response.statusText}`
                  );
                const text = await response.text();
                el.outerHTML = text;
              } catch (error) {
                console.error(`Error including file: ${url}`, error);
                el.remove();
              }
            }
          }
        };

        // --- 2. INITIALIZE ALL INTERACTIONS ---
        const initInteractions = () => {
          // Page transition
          document.body.classList.add("fade-in");

          // Update copyright year
          const yearEl = document.getElementById("copyright-year");
          if (yearEl) yearEl.textContent = new Date().getFullYear();

          // --- MOBILE NAVIGATION SCRIPT ---
          const body = document.body;
          const toggle = document.querySelector(".nav__toggle");
          const drawer = document.querySelector("#nd-mobile-nav");

          if (toggle && drawer) {
            const closeBtn = drawer.querySelector(".mobile-nav__close");

            const openDrawer = () => {
              drawer.classList.add("is-open");
              toggle.classList.add("is-open");
              body.classList.add("no-scroll");
              toggle.setAttribute("aria-expanded", "true");
              trapFocus(drawer);
            };
            const closeDrawer = () => {
              drawer.classList.remove("is-open");
              toggle.classList.remove("is-open");
              body.classList.remove("no-scroll");
              toggle.setAttribute("aria-expanded", "false");
              releaseFocus();
            };

            toggle.addEventListener("click", () => {
              drawer.classList.contains("is-open")
                ? closeDrawer()
                : openDrawer();
            });

            closeBtn && closeBtn.addEventListener("click", closeDrawer);

            document.addEventListener("keydown", (e) => {
              if (e.key === "Escape") closeDrawer();
            });
            drawer.addEventListener("click", (e) => {
              if (e.target === drawer) closeDrawer();
            });

            // Focus Trap
            let prevFocus, firstFocusable, lastFocusable;
            function trapFocus(container) {
              prevFocus = document.activeElement;
              const focusables = container.querySelectorAll(
                'a,button,[tabindex]:not([tabindex="-1"])'
              );
              firstFocusable = focusables[0];
              lastFocusable = focusables[focusables.length - 1];
              (firstFocusable || container).focus();
              container.addEventListener("keydown", handleTab);
            }
            function releaseFocus() {
              drawer.removeEventListener("keydown", handleTab);
              if (prevFocus) prevFocus.focus();
            }
            function handleTab(e) {
              if (e.key !== "Tab") return;
              if (e.shiftKey && document.activeElement === firstFocusable) {
                e.preventDefault();
                lastFocusable.focus();
              } else if (
                !e.shiftKey &&
                document.activeElement === lastFocusable
              ) {
                e.preventDefault();
                firstFocusable.focus();
              }
            }

            // Close drawer automatically on desktop
            window
              .matchMedia("(min-width: 992px)")
              .addEventListener("change", (m) => {
                if (m.matches) closeDrawer();
              });
          }

          // Reveal-on-scroll
          const revealElements = document.querySelectorAll(".reveal-on-scroll");
          const revealObserver = new IntersectionObserver(
            (entries, observer) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.classList.add("is-visible");
                  observer.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.1 }
          );
          revealElements.forEach((el) => revealObserver.observe(el));

          // Before & After Sliders
          document.querySelectorAll("[data-ba-slider]").forEach((slider) => {
            const handle = slider.querySelector(".ba-slider-handle");
            const afterImage = slider.querySelector(".ba-image-after");
            let isDragging = false;

            const moveHandler = (clientX) => {
              const rect = slider.getBoundingClientRect();
              let x = clientX - rect.left;
              if (x < 0) x = 0;
              if (x > rect.width) x = rect.width;
              let percent = (x / rect.width) * 100;
              handle.style.left = `${percent}%`;
              afterImage.style.clipPath = `polygon(${percent}% 0, 100% 0, 100% 100%, ${percent}% 100%)`;
            };

            handle.addEventListener("mousedown", () => (isDragging = true));
            handle.addEventListener("touchstart", () => (isDragging = true));

            window.addEventListener("mouseup", () => (isDragging = false));
            window.addEventListener("touchend", () => (isDragging = false));

            window.addEventListener(
              "mousemove",
              (e) => isDragging && moveHandler(e.clientX)
            );
            window.addEventListener(
              "touchmove",
              (e) => isDragging && moveHandler(e.touches[0].clientX)
            );
          });

          // SCRIPT TO MODIFY HEADER CTA ON THIS PAGE ONLY
          const headerCTA = document.querySelector(".header-cta");
          if (headerCTA) {
            headerCTA.textContent = "Book An Appointment";
            headerCTA.classList.remove("btn-cta");
            headerCTA.classList.add("btn-header-outline");
          }

          // --- FONT MATCHER SCRIPT ---
          (function () {
            const probe = document.querySelector(".nav-link");
            const drawer = document.querySelector("#nd-mobile-nav");
            if (probe && drawer) {
              const ff = getComputedStyle(probe).fontFamily;
              document.documentElement.style.setProperty(
                "--header-font-family",
                ff
              );
              drawer.style.fontFamily = "var(--header-font-family)";
            }
          })();
        };

        // --- 3. EXECUTION ---
        loadPartials().then(initInteractions);
      });
    </script>
    <script>
      // Reveal-on-scroll for this closer only (no global changes)
      (() => {
        const el = document.querySelector("#implants-closer.di-closer.reveal");
        if (!el) return;
        const io = new IntersectionObserver(
          (entries) => {
            entries.forEach((e) => {
              if (e.isIntersecting) {
                e.target.classList.add("is-inview");
                io.unobserve(e.target);
              }
            });
          },
          { threshold: 0.3 }
        );
        io.observe(el);
      })();
    </script>
    <script>
      (() => {
        const sliders = document.querySelectorAll(
          ".before-after-slider[data-ba-slider]"
        );
        if (!sliders.length) return;

        sliders.forEach((slider) => {
          const handle = slider.querySelector(".ba-slider-handle");
          const after = slider.querySelector(".ba-image-after");
          if (!after) return;

          const setPos = (pct) => {
            const clamped = Math.max(0, Math.min(100, pct));
            if (handle) handle.style.left = clamped + "%";
            after.style.clipPath = `polygon(${clamped}% 0, 100% 0, 100% 100%, ${clamped}% 100%)`;
          };

          /* Initial center so there’s no visual mismatch on load */
          setPos(50);
        });
      })();
    </script>
  </body>
</html>
