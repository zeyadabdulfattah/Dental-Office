<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About Us | Aethera Dental</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600&family=Playfair+Display:wght@700&family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* CSS TOKENS & VARIABLES */
      :root {
        --white: #ffffff;
        --ice: #eaf4f9;
        --light-blue: #a9d6e5;
        --sky-blue-cta: #468faf;
        --deep-navy: #1b2a41;
        --cool-gray: #6b7c8c;
        --gold-accent: #c9b08f;

        --font-heading: "Playfair Display", serif;
        --font-body: "Inter", sans-serif;

        --transition-fast: 200ms;
        --transition-med: 400ms;
        --transition-slow: 600ms;
      }

      /* BASE & RESET STYLES */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        margin: 0;
        font-family: var(--font-body);
        color: var(--cool-gray);
        background-color: var(--white);
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        opacity: 0;
        transition: opacity var(--transition-med) ease-in-out;
      }
      body.fade-in {
        opacity: 1;
      }
      body.no-scroll {
        overflow: hidden;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: var(--font-heading);
        color: var(--deep-navy);
        line-height: 1.2;
        margin: 0 0 1rem 0;
      }
      h1 {
        font-size: 3.5rem;
      }
      h2 {
        font-size: 2.75rem;
      }
      h3 {
        font-size: 1.75rem;
      }
      p {
        margin: 0 0 1.5rem 0;
      }
      a {
        color: var(--sky-blue-cta);
        text-decoration: none;
        transition: color var(--transition-fast);
      }
      a:hover {
        color: var(--deep-navy);
      }
      img {
        max-width: 100%;
        height: auto;
        display: block;
      }
      ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .container {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
      }

      /* ANIMATIONS & REVEAL */
      @keyframes text-mask-reveal {
        from {
          clip-path: inset(0 100% 0 0);
        }
        to {
          clip-path: inset(0 0 0 0);
        }
      }
      .text-reveal > span {
        display: inline-block;
        animation: text-mask-reveal 1s cubic-bezier(0.19, 1, 0.22, 1) forwards;
      }
      .reveal-on-scroll {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity var(--transition-slow) ease-out,
          transform var(--transition-slow) ease-out;
      }
      .reveal-on-scroll.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* GENERAL COMPONENTS */
      .btn {
        display: inline-block;
        padding: 0.75rem 2rem;
        font-family: var(--font-body);
        font-weight: 500;
        text-align: center;
        border: none;
        cursor: pointer;
        transition: all var(--transition-fast) ease-in-out;
        border-radius: 4px;
      }

      /* Default CTA for general buttons */
      .btn-cta {
        background-color: var(--sky-blue-cta);
        color: var(--white);
        border: 1px solid var(--gold-accent);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1),
          inset 0 1px 2px rgba(255, 255, 255, 0.2);
        position: relative;
      }
      .btn-cta:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(70, 143, 175, 0.4),
          inset 0 1px 2px rgba(255, 255, 255, 0.1);
      }

      /* HEADER BUTTON */
      .btn-header-outline {
        background-color: transparent;
        color: var(--sky-blue-cta);
        border: 2px solid var(--sky-blue-cta);
        padding: 0.6rem 2rem;
        font-family: "Cormorant Garamond", serif;

        font-size: 1.1rem;
        letter-spacing: 0.05em;
        border-radius: 4px;
        transition: all 0.3s ease;
        box-shadow: none;
      }
      .btn-header-outline:hover {
        background-color: var(--sky-blue-cta);
        color: var(--white);
        border-color: var(--sky-blue-cta);
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      }
      .btn-header-outline:focus-visible {
        outline: 2px solid var(--light-blue);
        outline-offset: 2px;
      }

      .btn-header-outline-inverted {
        background-color: transparent;
        color: var(--white);
        border: 2px solid var(--white);
        padding: 0.4rem 1.2rem;
        font-family: "Cormorant Garamond", serif;

        font-size: 0.85rem;
        letter-spacing: 0.05em;
        border-radius: 4px;
        transition: all 0.3s ease;
        box-shadow: none;
        display: inline-block;
      }
      .btn-header-outline-inverted:hover {
        background-color: var(--white);
        color: var(--deep-navy);
      }

      /* HEADER */
      .main-header {
        position: sticky;
        top: 0;
        z-index: 100;
        background-color: var(--white);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }

      .header-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.5rem 0;
        width: 100%;
        min-height: 76px;
      }
      .header-nav,
      .header-cta-container {
        display: none;
      }
      .nav__toggle {
        display: block;
        position: relative;
        z-index: 102; /* Ensure toggle is above overlay */
      }

      @media (min-width: 992px) {
        .header-nav,
        .header-cta-container {
          display: block;
        }
        .header-nav {
          margin: 0 auto;
        }
        .nav__toggle {
          display: none;
        }
      }

      .header-logo-img {
        height: 150px;
        width: auto;
      }
      .mobile-logo-img {
        height: 60px;
        width: auto;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 2.5rem;
      }
      .nav-link {
        font-weight: 500;
        color: var(--deep-navy);
        position: relative;
        padding: 1rem 0;
      }
      .nav-link::after {
        content: "";
        position: absolute;
        bottom: 0.75rem;
        left: 0;
        width: 0;
        height: 2px;
        background-color: var(--sky-blue-cta);
        transition: width var(--transition-med) ease;
      }
      .nav-link:hover::after,
      .nav-link.active::after {
        width: 100%;
      }

      .nav-link {
        font-family: "Cormorant Garamond", serif;

        font-size: 1.1rem;
        letter-spacing: 0.03em;
      }

      /* FOOTER */
      .main-footer {
        background-color: var(--deep-navy);
        color: var(--light-blue);
        padding: 4rem 0 2rem;
      }
      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 3rem;
      }
      .footer-heading {
        font-family: var(--font-body);
        font-weight: 700;
        color: var(--white);
        margin-bottom: 1rem;
      }
      .footer-list a {
        color: var(--light-blue);
      }
      .footer-list a:hover {
        color: var(--white);
        text-decoration: underline;
      }
      .footer-address a {
        color: var(--light-blue);
      }
      .footer-address a:hover {
        color: var(--white);
      }
      .social-icons {
        display: flex;
        gap: 1rem;
      }
      .social-icon svg {
        width: 24px;
        height: 24px;
        color: var(--light-blue);
        transition: color var(--transition-fast);
      }
      .social-icon:hover svg {
        color: var(--white);
      }
      .footer-bottom {
        border-top: 1px solid var(--cool-gray);
        margin-top: 3rem;
        padding-top: 2rem;
        text-align: center;
        font-size: 0.8rem;
        color: var(--cool-gray);
      }

      /* PAGE-SPECIFIC SECTIONS */
      .section {
        padding: 6rem 0;
      }
      .section-ice {
        background-color: var(--ice);
      }
      .page-hero {
        padding: 6rem 0;
        text-align: center;
        background-color: var(--ice);
      }
      .page-hero h1 {
        font-size: 3rem;
      }
      .story-chapter {
        display: grid;
        grid-template-columns: 1fr;
        gap: 4rem;
        align-items: center;
        margin-bottom: 6rem;
      }
      @media (min-width: 992px) {
        .story-chapter {
          grid-template-columns: repeat(2, 1fr);
        }
        .story-chapter.reverse {
          grid-template-columns: 0.8fr 1.2fr;
          align-items: start; /* Align items to the top */
        }
      }
      .story-chapter.reverse .story-image {
        grid-column: 2;
        grid-row: 1;
      }
      .story-chapter.reverse .story-content {
        position: sticky;
        top: 120px; /* Adjust based on your header height */
        align-self: start;
        z-index: 1; /* Ensure it scrolls underneath the header */
      }
      .story-image img {
        border-radius: 8px;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      }
      .team-roster {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 3rem;
        text-align: center;
      }
      .team-member img {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
        margin: 0 auto 1.5rem;
      }
      .team-member h3 {
        font-size: 1.5rem;
      }
      .team-member p {
        color: var(--sky-blue-cta);
        font-weight: 500;
      }
      .facility-gallery {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
      .facility-gallery img {
        border-radius: 4px;
        object-fit: cover;
        width: 100%;
        height: 100%;
      }
      .facility-gallery .main-image {
        grid-column: 1 / 3;
      }
      .final-cta {
        text-align: center;
      }
      .final-cta h2 {
        margin-bottom: 2rem;
      }

      /* --- NEW CSS FOR OFF-CANVAS MENU --- */
      :root {
        --brand-400: #468faf;
      } /* Nova blue */
      /* Hamburger Toggle Button */
      .nav__toggle {
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 10px;
        z-index: 10000; /* Ensure it's above everything */
      }
      .nav__toggle span {
        display: block;
        width: 30px;
        height: 3px;
        background-color: var(--deep-navy);
        border-radius: 4px;
        transition: transform 0.22s cubic-bezier(0.55, 0.055, 0.675, 0.19),
          opacity 0.22s ease-out, background-color 0.22s ease-in-out;
      }
      .nav__toggle span:not(:last-child) {
        margin-bottom: 7px;
      }
      /* Change icon color to white when menu is open */
      .nav__toggle.is-open span {
        background-color: var(--white);
      }
      /* Animate to 'X' */
      .nav__toggle.is-open span:nth-child(1) {
        transform: translateY(10px) rotate(135deg);
      }
      .nav__toggle.is-open span:nth-child(2) {
        opacity: 0;
      }
      .nav__toggle.is-open span:nth-child(3) {
        transform: translateY(-10px) rotate(-135deg);
      }

      /* Drawer Shell */
      #nd-mobile-nav {
        min-height: 100svh; /* safe viewport height on mobile */
        display: flex;
        flex-direction: column;
      }
      .mobile-nav {
        position: fixed;
        inset: 0;
        background: rgba(9, 27, 41, 0.95);
        backdrop-filter: blur(10px);
        opacity: 0;
        visibility: hidden;
        transform: translateX(20px);
        transition: opacity 0.4s, visibility 0.4s, transform 0.4s;
        z-index: 9999;
      }
      .mobile-nav.is-open {
        opacity: 1;
        visibility: visible;
        transform: translateX(0);
      }

      /* Header row inside drawer */
      .mobile-nav__header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px 20px;
        position: relative;
        z-index: 2;
      }
      #nd-mobile-nav .mobile-nav__logo {
        height: 48px; /* was ~40px; adjust if needed */
        max-height: 56px; /* guardrail for small screens */
      }
      .mobile-nav__close {
        background: none;
        border: 0;
        color: #fff;
        font-size: 28px;
        line-height: 1;
        cursor: pointer;
      }

      /* Divider sits BELOW the header row */
      .mobile-nav__divider {
        border: 0;
        border-top: 1px solid rgba(255, 255, 255, 0.18);
        margin: 0;
      }

      /* Links list */
      #nd-mobile-nav .mobile-nav__list {
        flex: 1 1 auto;
        overflow: auto;
      }
      .mobile-nav__list {
        list-style: none;
        padding: 16px 20px;
      }
      /* Link/Button styles */
      .mobile-nav__link {
        display: block;
        color: #fff;
        padding: 12px 10px;
        border-radius: 8px;
        /* Reset button styles to match links */
        background: none;
        border: none;
        width: 100%;
        text-align: left;
        font-size: 1rem;
        cursor: pointer;
        font-family: var(--font-body);
      }
      .mobile-nav__link:focus {
        outline: 2px solid rgba(255, 255, 255, 0.35);
        outline-offset: 2px;
      }

      /* Services submenu */
      .mobile-submenu {
        max-height: 0;
        overflow: hidden;
        margin: 6px 0 0 0;
        padding-left: 12px;
        border-left: 2px solid rgba(255, 255, 255, 0.25);
        transition: max-height 0.35s ease;
      }
      .mobile-submenu a {
        display: block;
        padding: 10px 0;
        line-height: 1.45;
        white-space: normal;
      }

      /* Footer inside drawer */
      #nd-mobile-nav .mobile-nav__footer {
        margin-top: auto;
        padding: 12px 20px max(24px, env(safe-area-inset-bottom, 24px));
        border-top: 1px solid rgba(255, 255, 255, 0.12);
      }
      #nd-mobile-nav .mobile-nav__footer .btn-header-outline-inverted {
        margin-bottom: 14px; /* space before contact info */
      }
      #nd-mobile-nav .mobile-nav__contact .contact-line {
        display: block;
        margin: 6px 0;
        color: var(--brand-400);
        text-decoration: none;
      }
      #nd-mobile-nav .mobile-nav__contact .contact-line:hover {
        text-decoration: underline;
      }
      #nd-mobile-nav .mobile-nav__contact .hours {
        color: rgba(255, 255, 255, 0.85);
      }

      /* Theme tint */
      .btn-header-outline-inverted,
      .has-submenu .chev {
        border-color: #fff;
        color: #fff;
      }

      /* Ensure all drawer text inherits header font */
      #nd-mobile-nav,
      #nd-mobile-nav .mobile-nav__link,
      #nd-mobile-nav .mobile-submenu a,
      #nd-mobile-nav .mobile-nav__footer {
        font-family: var(--header-font-family, inherit);
      }
    </style>
  </head>
  <body class="fade-in">
    <div data-include="/partials/header.html"></div>
    <nav id="nd-mobile-nav" class="mobile-nav" role="dialog" aria-modal="true">
      <div class="mobile-nav__header">
        <a class="mobile-nav__brand" href="/">
          <img
            src="/image-logo/logo.png"
            alt="Nova Dental"
            class="mobile-nav__logo"
          />
        </a>
        <button class="mobile-nav__close" aria-label="Close menu">×</button>
      </div>

      <hr class="mobile-nav__divider" />

      <ul class="mobile-nav__list" role="list">
        <li><a class="mobile-nav__link" href="/">Home</a></li>
        <li><a class="mobile-nav__link" href="/about.html">About</a></li>
        <li>
          <a class="mobile-nav__link" href="/services/index.html">Services</a>
        </li>
        <li><a class="mobile-nav__link" href="/gallery.html">Gallery</a></li>
        <li>
          <a class="mobile-nav__link" href="/testimonials.html">Testimonials</a>
        </li>
        <li><a class="mobile-nav__link" href="/contact.html">Contact</a></li>
      </ul>

      <div class="mobile-nav__footer">
        <a class="btn btn-header-outline-inverted" href="/contact.html"
          >Book An Appointment</a
        >

        <address
          class="mobile-nav__contact"
          itemscope
          itemtype="https://schema.org/Dentist"
        >
          <meta itemprop="name" content="Nova Dental" />
          <a class="contact-line" href="tel:+201234567890" itemprop="telephone"
            >+20 123 456 7890</a
          >
          <a
            class="contact-line"
            href="mailto:appointments@novadental.com"
            itemprop="email"
            >appointments@novadental.com</a
          >
          <a
            class="contact-line"
            href="https://maps.google.com/?q=Nova%20Dental"
            target="_blank"
            rel="noopener"
            itemprop="address"
            >123 Smile Street, Cairo</a
          >
          <span class="contact-line hours" itemprop="openingHours"
            >Sat–Thu 10:00–20:00 • Fri Closed</span
          >
        </address>
      </div>
    </nav>
    <main>
      <section class="page-hero">
        <div class="container">
          <h1 class="text-reveal">
            <span>A Legacy of Care & Innovation</span>
          </h1>
          <p>
            Meet the team and explore the philosophy that defines Aethera
            Dental.
          </p>
        </div>
      </section>

      <section class="section">
        <div class="container">
          <div class="story-chapter reveal-on-scroll">
            <div class="story-content">
              <h2>Chapter One: Our Founding Vision</h2>
              <p>
                Aethera Dental was founded on a simple yet powerful idea: to
                create a dental practice that feels less like a clinic and more
                like a sanctuary. We envisioned a place where advanced
                technology meets compassionate care, where every patient is
                treated with the respect and attention they deserve. Our journey
                began with a commitment to demystifying dentistry and building
                lasting relationships based on trust.
              </p>
            </div>
            <div class="story-image">
              <img
                src="/images/about/story-01.jpg"
                alt="Vintage photo of the founding dentists"
              />
            </div>
          </div>

          <div id="chapter-two" class="story-chapter reverse reveal-on-scroll">
            <div class="story-content">
              <h2>Chapter Two: The Aethera Difference</h2>
              <p>
                What sets us apart is our unwavering dedication to your comfort
                and well-being. We have meticulously designed our space to be
                calming and serene, and our team is trained not just in clinical
                procedures but in the art of patient care. We take the time to
                listen to your concerns, explain your options clearly, and
                create a personalized treatment plan that aligns with your goals
                and lifestyle.
              </p>
            </div>
            <div class="story-image">
              <img
                src="/images-doctor/CHAPTER2.png"
                alt="Modern, clean, and welcoming dental facility interior"
              />
            </div>
          </div>
        </div>
      </section>

      <section class="section section-ice">
        <div class="container">
          <div
            class="text-center reveal-on-scroll"
            style="max-width: 700px; margin: 0 auto 4rem auto"
          >
            <h2>Meet Our Experts</h2>
            <p>
              Our team of highly skilled and compassionate professionals is the
              heart of our practice.
            </p>
          </div>
          <div class="team-roster">
            <div class="team-member reveal-on-scroll">
              <img
                src="/images/team/dr-lead.jpg"
                alt="Portrait of Dr. Evelyn Reed"
              />
              <h3>Dr. Evelyn Reed</h3>
              <p>Founder & Principal Dentist</p>
            </div>
            <div
              class="team-member reveal-on-scroll"
              style="transition-delay: 150ms"
            >
              <img
                src="/images/team/dr-ortho.jpg"
                alt="Portrait of Dr. Samuel Chen"
              />
              <h3>Dr. Samuel Chen</h3>
              <p>Orthodontic Specialist</p>
            </div>
            <div
              class="team-member reveal-on-scroll"
              style="transition-delay: 300ms"
            >
              <img
                src="/images/team/dr-pediatric.jpg"
                alt="Portrait of Dr. Maria Garcia"
              />
              <h3>Dr. Maria Garcia</h3>
              <p>Pediatric Dentist</p>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="container">
          <div
            class="text-center reveal-on-scroll"
            style="max-width: 700px; margin: 0 auto 4rem auto"
          >
            <h2>Our Facility & Technology</h2>
            <p>
              Step into a space designed for your comfort, equipped with
              technology for your care.
            </p>
          </div>
          <div class="facility-gallery reveal-on-scroll">
            <img
              src="/images/about/facility-hero.jpg"
              alt="Main view of the dental clinic's reception"
              class="main-image"
            />
            <img
              src="/images/services/dental-implants/tech.jpg"
              alt="Advanced dental scanning equipment"
            />
            <img
              src="/images/about/story-01.jpg"
              alt="A comfortable patient treatment room"
            />
          </div>
        </div>
      </section>

      <section class="section section-ice final-cta">
        <div class="container reveal-on-scroll">
          <h2>Experience the Difference Yourself</h2>
          <p>
            We invite you to join the Aethera Dental family. Schedule your visit
            today.
          </p>
          <a href="/contact.html" class="btn btn-cta">Book Your Appointment</a>
        </div>
      </section>
    </main>

    <div data-include="/partials/footer.html"></div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- 1. CLIENT-SIDE INCLUDES LOADER ---
        const loadPartials = async () => {
          const elements = document.querySelectorAll("[data-include]");
          for (const el of elements) {
            const url = el.getAttribute("data-include");
            if (url) {
              try {
                const response = await fetch(url, { cache: "reload" });
                if (!response.ok)
                  throw new Error(
                    `Failed to fetch ${url}: ${response.statusText}`
                  );
                const text = await response.text();
                el.outerHTML = text;
              } catch (error) {
                console.error(`Error including file: ${url}`, error);
                el.remove();
              }
            }
          }
        };

        // --- 2. INITIALIZE ALL INTERACTIONS ---
        const initInteractions = () => {
          // Page transition
          document.body.classList.add("fade-in");

          // Update copyright year
          const yearEl = document.getElementById("copyright-year");
          if (yearEl) yearEl.textContent = new Date().getFullYear();

          // --- MOBILE NAVIGATION SCRIPT ---
          const body = document.body;
          const toggle = document.querySelector(".nav__toggle");
          const drawer = document.querySelector("#nd-mobile-nav");

          if (toggle && drawer) {
            const closeBtn = drawer.querySelector(".mobile-nav__close");

            const openDrawer = () => {
              drawer.classList.add("is-open");
              toggle.classList.add("is-open");
              body.classList.add("no-scroll");
              toggle.setAttribute("aria-expanded", "true");
              trapFocus(drawer);
            };
            const closeDrawer = () => {
              drawer.classList.remove("is-open");
              toggle.classList.remove("is-open");
              body.classList.remove("no-scroll");
              toggle.setAttribute("aria-expanded", "false");
              releaseFocus();
            };

            toggle.addEventListener("click", () => {
              drawer.classList.contains("is-open")
                ? closeDrawer()
                : openDrawer();
            });

            closeBtn && closeBtn.addEventListener("click", closeDrawer);

            document.addEventListener("keydown", (e) => {
              if (e.key === "Escape") closeDrawer();
            });
            drawer.addEventListener("click", (e) => {
              if (e.target === drawer) closeDrawer();
            });

            // Focus Trap
            let prevFocus, firstFocusable, lastFocusable;
            function trapFocus(container) {
              prevFocus = document.activeElement;
              const focusables = container.querySelectorAll(
                'a,button,[tabindex]:not([tabindex="-1"])'
              );
              firstFocusable = focusables[0];
              lastFocusable = focusables[focusables.length - 1];
              (firstFocusable || container).focus();
              container.addEventListener("keydown", handleTab);
            }
            function releaseFocus() {
              drawer.removeEventListener("keydown", handleTab);
              if (prevFocus) prevFocus.focus();
            }
            function handleTab(e) {
              if (e.key !== "Tab") return;
              if (e.shiftKey && document.activeElement === firstFocusable) {
                e.preventDefault();
                lastFocusable.focus();
              } else if (
                !e.shiftKey &&
                document.activeElement === lastFocusable
              ) {
                e.preventDefault();
                firstFocusable.focus();
              }
            }

            // Close drawer automatically on desktop
            window
              .matchMedia("(min-width: 992px)")
              .addEventListener("change", (m) => {
                if (m.matches) closeDrawer();
              });
          }

          // Reveal-on-scroll
          const revealElements = document.querySelectorAll(".reveal-on-scroll");
          const revealObserver = new IntersectionObserver(
            (entries, observer) => {
              entries.forEach((entry) => {
                if (entry.isIntersecting) {
                  entry.target.classList.add("is-visible");
                  observer.unobserve(entry.target);
                }
              });
            },
            { threshold: 0.1 }
          );
          revealElements.forEach((el) => revealObserver.observe(el));

          // Before & After Sliders
          document.querySelectorAll("[data-ba-slider]").forEach((slider) => {
            const handle = slider.querySelector(".ba-slider-handle");
            const afterImage = slider.querySelector(".ba-image-after");
            let isDragging = false;

            const moveHandler = (clientX) => {
              const rect = slider.getBoundingClientRect();
              let x = clientX - rect.left;
              if (x < 0) x = 0;
              if (x > rect.width) x = rect.width;
              let percent = (x / rect.width) * 100;
              handle.style.left = `${percent}%`;
              afterImage.style.clipPath = `polygon(${percent}% 0, 100% 0, 100% 100%, ${percent}% 100%)`;
            };

            handle.addEventListener("mousedown", () => (isDragging = true));
            handle.addEventListener("touchstart", () => (isDragging = true));

            window.addEventListener("mouseup", () => (isDragging = false));
            window.addEventListener("touchend", () => (isDragging = false));

            window.addEventListener(
              "mousemove",
              (e) => isDragging && moveHandler(e.clientX)
            );
            window.addEventListener(
              "touchmove",
              (e) => isDragging && moveHandler(e.touches[0].clientX)
            );
          });

          // SCRIPT TO MODIFY HEADER CTA ON THIS PAGE ONLY
          const headerCTA = document.querySelector(".header-cta");
          if (headerCTA) {
            headerCTA.textContent = "Book An Appointment";
            headerCTA.classList.remove("btn-cta");
            headerCTA.classList.add("btn-header-outline");
          }

          // --- FONT MATCHER SCRIPT ---
          (function () {
            const probe = document.querySelector(".nav-link");
            const drawer = document.querySelector("#nd-mobile-nav");
            if (probe && drawer) {
              const ff = getComputedStyle(probe).fontFamily;
              document.documentElement.style.setProperty(
                "--header-font-family",
                ff
              );
              drawer.style.fontFamily = "var(--header-font-family)";
            }
          })();
        };

        // --- 3. EXECUTION ---
        loadPartials().then(initInteractions);
      });
    </script>
  </body>
</html>
